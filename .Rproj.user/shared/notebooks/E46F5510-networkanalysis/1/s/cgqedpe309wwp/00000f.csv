"0","sf_to_tidygraph = function(x, directed = TRUE) {"
"0","  "
"0","  edges <- x %>%"
"0","    mutate(edgeID = c(1:n()))"
"0","  "
"0","  nodes <- edges %>%"
"0","    st_coordinates() %>%"
"0","    as_tibble() %>%"
"0","    rename(edgeID = L1) %>%"
"0","    group_by(edgeID) %>%"
"0","    slice(c(1, n())) %>%"
"0","    ungroup() %>%"
"0","    mutate(start_end = rep(c('start', 'end'), times = n()/2)) %>%"
"0","    mutate(xy = paste(.$X, .$Y)) %>% "
"0","    mutate(nodeID = group_indices(., factor(xy, levels = unique(xy)))) %>%"
"0","    select(-xy)"
"0","  "
"0","  source_nodes <- nodes %>%"
"0","    filter(start_end == 'start') %>%"
"0","    pull(nodeID)"
"0","  target_nodes <- nodes %>%"
"0","    filter(start_end == 'end') %>%"
"0","    pull(nodeID)"
"0","  edges = edges %>%"
"0","    mutate(from = source_nodes, to = target_nodes)"
"0","  "
"0","  nodes <- nodes %>%"
"0","    distinct(nodeID, .keep_all = TRUE) %>%"
"0","    select(-c(edgeID, start_end)) %>%"
"0","    st_as_sf(coords = c('X', 'Y')) %>%"
"0","    st_set_crs(st_crs(edges))"
"0","  "
"0","  tbl_graph(nodes = nodes, edges = as_tibble(edges), directed = directed)"
"0","  "
"0","}"
"0","sf_to_tidygraph(muenster_center, directed = FALSE)"
"2","Warning: [38;5;232mThere was 1 warning in `mutate()`.[39m
[38;5;232m[36mâ„¹[38;5;232m In argument: `nodeID = group_indices(., factor(xy, levels = unique(xy)))`.[39m
Caused by warning:
[38;5;232m[33m![38;5;232m The `...` argument of `group_indices()` is deprecated as of dplyr 1.0.0.
[36mâ„¹[38;5;232m Please `group_by()` first
[90mCall `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.[38;5;232m[39m"
"1","[38;5;246m# A tbl_graph: 3495 nodes and 2907 edges
[39m"
"1","[38;5;246m#
[39m"
"1","[38;5;246m# An undirected multigraph with 854 components
[39m"
"1","[38;5;246m#
[39m"
