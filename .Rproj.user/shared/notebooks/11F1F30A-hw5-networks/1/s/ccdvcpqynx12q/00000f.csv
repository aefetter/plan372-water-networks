"0","## mapping shortest path from Chapel Hill to Cary, what cities does it pass through?"
"0","# used GitHub Copilot to help me find nodes closest to Chapel Hill and Cary"
"0","locations <- st_as_sf(data.frame("
"0","  name = c(""Chapel Hill"", ""Carrboro"", ""Cary""),"
"0","  lon = c(-79.0558, -79.0753, -78.7811),"
"0","  lat = c(35.9132, 35.9101, 35.7915)"
"0","), coords = c(""lon"", ""lat""), crs = 4326)"
"0",""
"0","# Ensure the nodes in network_graph have the same CRS"
"0","nodes_sf <- network_graph %>%"
"0","  activate(nodes) %>%"
"0","  as_tibble() %>%"
"0","  st_as_sf()"
"0",""
"0","# Find the nearest nodes"
"0","nearest_nodes <- st_nearest_feature(locations, nodes_sf)"
"0",""
"0","# Add the node IDs to the locations"
"0","locations$nodeID <- nearest_nodes"
"0",""
"0","# View the results"
"0","print(locations)"
"1","Simple feature collection with 3 features and 2 fields"
"1","
"
"1","Geometry type: POINT
"
"1","Dimension:     XY
"
"1","Bounding box:  "
"1","xmin: -79.0753 ymin: 35.7915 xmax: -78.7811 ymax: 35.9132"
"1","
"
"1","Geodetic CRS:  WGS 84
"
"1"," "
"1","        name"
"1","                 geometry"
"1","
1"
"1"," Chapel Hill"
"1"," POINT (-79.0558 35.9132)"
"1","
2"
"1","    Carrboro"
"1"," POINT (-79.0753 35.9101)"
"1","
3"
"1","        Cary"
"1"," POINT (-78.7811 35.7915)"
"1","
"
"1"," "
"1"," nodeID"
"1","
1"
"1","     31"
"1","
2"
"1","     31"
"1","
3"
"1","     41"
"1","
"
"0","# Define start and end nodes"
"0","ch_node <- 31  # Chapel Hill/Carrboro"
"0","cary_node <- 41    # Cary"
"0",""
"0","# Compute the shortest path"
"0","path <- shortest_paths("
"0","  graph = network_graph,"
"0","  from = cary_node,"
"0","  to = ch_node,"
"0","  output = 'both',"
"0","  weights = network_graph %>% activate(edges) %>% pull(length)"
"0",")"
"0",""
"0","# Extract the path details"
"0","path$vpath  # Nodes in the shortest path"
"1","[[1]]
"
"1","+ 4/54 vertices, from 0aca3cc:
"
"1",""
"1","[1] 41 32 30 31"
"1","
"
"1",""
"1","
"
"0","path$epath  # Edges in the shortest path"
"1","[[1]]
"
"1","+ 3/91 edges from 0aca3cc:
"
"1",""
"1",""
"1","[1] 32--41 30--32 30--31"
"1","
"
"1",""
"1",""
"1","
"
